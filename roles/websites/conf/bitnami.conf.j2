<VirtualHost *:80>
    DocumentRoot "/app"

    # Enable necessary modules
    LoadModule proxy_module modules/mod_proxy.so
    LoadModule proxy_http_module modules/mod_proxy_http.so

    # Configure proxy for /api
    ProxyRequests Off
    ProxyPreserveHost On

    # Proxy /api requests to Node.js backend
    ProxyPass /api http://localhost:3000
    ProxyPassReverse /api http://localhost:3000

    # Directory settings for static content
    <Directory "/app">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Logging configuration
    ErrorLog "logs/error_log"
    CustomLog "logs/access_log" combined
</VirtualHost>